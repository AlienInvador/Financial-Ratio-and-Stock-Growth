<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tej Patel">

<title>Financial Ratio and Stock Growth</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Final_Project_files/libs/clipboard/clipboard.min.js"></script>
<script src="Final_Project_files/libs/quarto-html/quarto.js"></script>
<script src="Final_Project_files/libs/quarto-html/popper.min.js"></script>
<script src="Final_Project_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Final_Project_files/libs/quarto-html/anchor.min.js"></script>
<link href="Final_Project_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Final_Project_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Final_Project_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Final_Project_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Final_Project_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="Final_Project_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="Final_Project_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<link href="Final_Project_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">

<script src="Final_Project_files/libs/datatables-binding-0.33/datatables.js"></script>

<script src="Final_Project_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>

<link href="Final_Project_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">

<link href="Final_Project_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">

<script src="Final_Project_files/libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>

<link href="Final_Project_files/libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="Final_Project_files/libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>



</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Financial Ratio and Stock Growth</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Tej Patel </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="research-question" class="level1">
<h1>Research Question</h1>
<p>Research Question: Are companies with lower price-to-earnings (P/E) ratios more likely to have higher stock price growth?</p>
<p>Importance and Curiosity: This research question is interesting because it sees if the valuation of a firm, as revealed by its price-to-earnings (P/E) ratio, will lead to predicting its future performance in the stock market. The P/E ratio is the ratio of a company’s existing stock price to its earnings per share and is most often employed by investors to ascertain whether a stock is undervalued or overvalued. A lower P/E ratio tends to indicate a potential undervalued stock, a potential value buy, and a higher one may signal either overvaluation or over enthusiasm on the part of investors. This question is especially helpful since it addresses the value-growth dynamics as well as it touches upon the risk-reward side. Information regarding whether low P/E firms actually return more in the long term can allow investors to make more informed, better decisions. When there is a valuation-driven investment approach in a particular market, the discovery of a trend connecting the P/E ratio with the performance of the stocks can be a key advantage for both new and experienced investors. It also raises questions about the efficiency of the market: is the price already reflecting future growth, or are systematic opportunities being missed?</p>
<p>Goal: Using the Price-to-Earnings Ratio from 2020 data from Kaggle, we can compare the five-year return value of stocks from 2020 up to 2025 to see if the lower P/E ratio did cause a higher return value of stocks over the past five years.</p>
</section>
<section id="data-sources-and-background" class="level1">
<h1>Data Sources and Background</h1>
<p>S&amp;P 500 Companies Kaggle Financial Information csv file:</p>
<p>The S&amp;P 500 Companies with Financial Information dataset, available on Kaggle, holds the financial data of companies that make up the S&amp;P 500 list of companies during 2020. The data includes significant data points such as market cap, debt to equity, and price earnings ratio, among others, through which the financial positions and performances of the firms can be evaluated. It is useful in examining financial attributes of leading U.S. companies belonging to various categories and obtaining information about their value in the markets, profitability levels, and level of risk they carry. This data would be very improant as it gives Price-to-Earnings data (P/E) from 2020 and this will help go along with the five-year return variabel which is from 2020-2025</p>
<p>APA Citation: Fisher, P. (2021). S&amp;P 500 Companies with Financial Information [Data set]. Kaggle. https://www.kaggle.com/datasets/paytonfisher/sp-500-companies-with-financial-information?resource=download</p>
<p>Yahoo Finance: We need the latest stock information for S&amp;P 500 companies, specifically from 2020 to 2025, to analyze their financial performance and stock growth with P/E ratio. To access this data, we are using the tidyquant and quantmod R packages, which provide a seamless interface to retrieve financial data from Yahoo Finance. These packages allow us to download crucial stock price data, such as adjusted closing prices, volume, and other market metrics, for a wide range of companies in the S&amp;P 500 index. By utilizing these tools, we can efficiently gather and analyze the most current financial data to explore the relationship between debt-to-equity ratios and stock returns.</p>
<p>APA Citation: Yahoo! Inc.&nbsp;(n.d.). Yahoo Finance. Retrieved April 25, 2025, from https://finance.yahoo.com/</p>
<p>Unit of Analysis: individual company (specifically, S&amp;P 500 companies).</p>
<p>Time Frame: The time frame is from January 2023 to January 2024, focusing on the 1-year stock return.</p>
</section>
<section id="variables" class="level1">
<h1>Variables</h1>
<section id="independent-variable" class="level2">
<h2 class="anchored" data-anchor-id="independent-variable">Independent Variable:</h2>
<p>Price-to-Earnings (P/E) Ratio: Price-to-Earnings (P/E) ratio is a measure of valuation used to compare a company’s stock price to its earnings per share (EPS). To calculate the ratio, one divides the stock price by earnings per share. This is vital as it alerts investors to how much they are spending on a company’s earnings. A higher P/E ratio typically means that investors expect high growth in the future, while a low P/E may mean that the stock is overpriced or the company’s growth opportunities are slow. With the P/E ratio in our possession, we can explore how the market expectations and profitability of a company are related to stock returns.</p>
</section>
<section id="dependent-variable" class="level2">
<h2 class="anchored" data-anchor-id="dependent-variable">Dependent Variable:</h2>
<p>One-Year Return: One-year stock return is a measure of percentage change in the stock price within 12 months. That is, it is calculated as:</p>
<p>One-Year Return = (Price at the end of 2023−Price at the start of 2023)/ Price at the start of 2023</p>
<p>This is an important variable since it provides a clean quantitative estimate of a firm’s share performance in the specified time period. By looking at share returns, we can measure the impact of financial metrics (like debt level and profitability) on the appreciation of value of a firm, which allows investors and analysts to visualize trends between firm health and the appreciation in share price. This variable will be calculated and retrieved from Yahoo finance</p>
</section>
</section>
<section id="description-on-variables" class="level1">
<h1>Description on Variables</h1>
<section id="fianancial-and-stock-stats-table" class="level2">
<h2 class="anchored" data-anchor-id="fianancial-and-stock-stats-table">Fianancial and Stock Stats Table</h2>
<div class="cell">
<div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d75cd6f74b20492f9510" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d75cd6f74b20492f9510">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417"],["Nvidia Corporation","Range Resources Corp.","Broadcom","Quanta Services Inc.","Lilly (Eli) &amp; Co.","EQT Corporation","Signet Jewelers","Iron Mountain Incorporated","United Rentals, Inc.","McKesson Corp.","Cadence Design Systems","Eaton Corporation","KLA-Tencor Corp.","Progressive Corp.","Chipotle Mexican Grill","Ameriprise Financial","Apple Inc.","Costco Wholesale Corp.","Synopsys Inc.","Oracle Corp.","Parker-Hannifin","Grainger (W.W.) Inc.","Arthur J. Gallagher &amp; Co.","Gartner Inc","Williams Cos.","Motorola Solutions Inc.","Freeport-McMoRan Inc.","Unum Group","Tractor Supply Company","Pulte Homes Inc.","General Electric","Morgan Stanley","D. R. Horton","Alphabet Inc Class C","L Brands Inc.","Alphabet Inc Class A","Raymond James Financial Inc.","Goldman Sachs Group","Cintas Corporation","NRG Energy","Block H&amp;R","Microsoft Corp.","Applied Materials Inc","Cardinal Health Inc.","O'Reilly Automotive","Netflix Inc.","AutoZone Inc","Caterpillar Inc.","Amphenol Corp","Marathon Petroleum","Intuitive Surgical Inc.","Fluor Corp.","Deere &amp; Co.","Lennar Corp.","American Express Co","TransDigm Group","Lam Research","Ingersoll-Rand PLC","Advanced Micro Devices Inc","AbbVie Inc.","Wal-Mart Stores","Intuit Inc.","Republic Services Inc","Packaging Corporation of America","Kroger Co.","Garmin Ltd.","PACCAR Inc.","Nucor Corp.","Pentair Ltd.","Nasdaq, Inc.","Amazon.com Inc","Snap-On Inc.","Discover Financial Services","BlackRock","Hilton Worldwide Holdings Inc","Lowe's Cos.","Affiliated Managers Group Inc","Cummins Inc.","Fastenal Co","AFLAC Inc","News Corp. Class B","Polo Ralph Lauren Corp.","International Business Machines","Johnson Controls International","Acuity Brands Inc","HCA Holdings","NetApp","TJX Companies Inc.","Synchrony Financial","Marsh &amp; McLennan","Moody's Corp","Hartford Financial Svc.Gp.","Salesforce.com","News Corp. Class A","Home Depot","DaVita Inc.","FedEx Corporation","Boston Scientific","JPMorgan Chase &amp; Co.","The Travelers Companies Inc.","Allstate Corp","Chubb Limited","QUALCOMM Inc.","Martin Marietta Materials","Exxon Mobil Corp.","Analog Devices, Inc.","Waste Management Inc.","Automatic Data Processing","Darden Restaurants","Regeneron","Paychex Inc.","Marriott Int'l.","TechnipFMC","MetLife Inc.","Capital One Financial","Vulcan Materials","Verisk Analytics","ONEOK","Apartment Investment &amp; Management","S&amp;P Global, Inc.","PG&amp;E Corp.","Sherwin-Williams","United Health Group Inc.","eBay Inc.","Equifax Inc.","Philip Morris International","AMETEK Inc","HP Inc.","EOG Resources","Corning Inc.","Patterson Companies","Vertex Pharmaceuticals Inc","ConocoPhillips","Stryker Corp.","Accenture plc","Emerson Electric Company","Aon plc","Digital Realty Trust Inc","Kinder Morgan","F5 Networks","Mastercard Inc.","Equinix","Assurant Inc","The Bank of New York Mellon Corp.","Juniper Networks","Public Storage","CBOE Holdings","Royal Caribbean Cruises Ltd","Gilead Sciences","Seagate Technology","Dover Corp.","Intercontinental Exchange","Visa Inc.","Extra Space Storage","Public Serv. Enterprise Inc.","Ulta Salon Cosmetics &amp; Fragrance Inc","Danaher Corp.","Devon Energy Corp.","Textron Inc.","Regions Financial Corp.","Expedia Inc.","Principal Financial Group","Fifth Third Bancorp","General Dynamics","Texas Instruments","Monster Beverage","Laboratory Corp. of America Holding","Charles Schwab Corporation","Loews Corp.","Masco Corp.","McDonald's Corp.","Agilent Technologies Inc","TE Connectivity Ltd.","Thermo Fisher Scientific","NiSource Inc.","American International Group, Inc.","Prudential Financial","Southern Co.","Altria Group Inc","Valero Energy","Church &amp; Dwight","Quest Diagnostics","Simon Property Group Inc","Waters Corporation","Avery Dennison Corp","International Paper","Illinois Tool Works","A.O. Smith Corp","IDEXX Laboratories","Hewlett Packard Enterprise","Micron Technology","Cincinnati Financial","Xylem Inc.","Procter &amp; Gamble","ResMed","Kellogg Co.","Mettler Toledo","Rockwell Automation Inc.","J. B. Hunt Transport Services","C. H. Robinson Worldwide","Interpublic Group","Colgate-Palmolive","Expeditors International","Wells Fargo","Chevron Corp.","Regency Centers Corporation","Kimco Realty","General Motors","Roper Technologies","Duke Energy","PNC Financial Services","CIGNA Corp.","Yum! Brands Inc","General Mills","Northrop Grumman Corp.","State Street Corp.","Abbott Laboratories","Cisco Systems","CSX Corp.","CME Group Inc.","Mid-America Apartments","Twenty-First Century Fox Class A","Air Products &amp; Chemicals Inc","Bank of America Corp","Union Pacific","Electronic Arts","Lockheed Martin Corp.","Exelon Corp.","Honeywell Int'l Inc.","Sempra Energy","Huntington Bancshares","Hologic","Eastman Chemical","Prologis","Entergy Corp.","Ross Stores","Citizens Financial Group","Twenty-First Century Fox Class B","Ameren Corp","CenterPoint Energy","NextEra Energy","Cognizant Technology Solutions","Adobe Systems Inc","Edison Int'l","Coca-Cola Company (The)","Norfolk Southern Corp.","Merck &amp; Co.","Ford Motor","The Hershey Company","DTE Energy Co.","Ecolab Inc.","ANSYS","M&amp;T Bank Corp.","PepsiCo Inc.","Omnicom Group","Alliant Energy Corp","Universal Health Services, Inc.","United Parcel Service","Ventas Inc","Flowserve Corporation","Genuine Parts","Amgen Inc","Constellation Brands","AvalonBay Communities, Inc.","Zoetis","JM Smucker","IQVIA Holdings Inc.","CMS Energy","Phillips 66","Archer-Daniels-Midland Co","Albemarle Corp","Xcel Energy Inc","The Mosaic Company","Occidental Petroleum","Robert Half International","Mondelez International","Zions Bancorp","The Clorox Company","Brighthouse Financial Inc","Kraft Heinz Co","Invesco Ltd.","Navient","Wec Energy Group Inc","Macy's Inc.","Consolidated Edison","Target Corp.","Molson Coors Brewing Company","Halliburton Co.","Pinnacle West Capital","Best Buy Co. Inc.","American Electric Power","Fortive Corp","Microchip Technology","Weyerhaeuser Corp.","Kimberly-Clark","PPL Corp.","Johnson &amp; Johnson","The Cooper Companies","Starbucks Corp.","AT&amp;T Inc","American Water Works Company Inc","UDR Inc","Essex Property Trust, Inc.","Host Hotels &amp; Resorts","Allegion","Northern Trust Corp.","Comerica Inc.","LKQ Corporation","T. Rowe Price Group","Federal Realty Investment Trust","Akamai Technologies Inc","KeyCorp","United Continental Holdings","Praxair Inc.","Equity Residential","SL Green Realty","LyondellBasell","Schlumberger Ltd.","Bristol-Myers Squibb","Verisign Inc.","3M Company","Citigroup Inc.","Delta Air Lines Inc.","MGM Resorts International","FirstEnergy Corp","Henry Schein","Sysco Corp.","IHS Markit Ltd.","CA, Inc.","Macerich","PVH Corp.","Campbell Soup","Newmont Mining Corporation","Franklin Resources","U.S. Bancorp","McCormick &amp; Co.","PPG Industries","Conagra Brands","Centene Corporation","Realty Income Corporation","Whirlpool Corp.","Edwards Lifesciences","Alaska Air Group Inc","Sealed Air","Comcast Corp.","Becton Dickinson","American Tower Corp A","Carmax Inc","Western Digital","SBA Communications","BorgWarner","Pfizer Inc.","Harley-Davidson","Mohawk Industries","Verizon Communications","Huntington Ingalls Industries","Eversource Energy","Dominion Energy","Skyworks Solutions","Medtronic plc","Hormel Foods Corp.","Vornado Realty Trust","Dollar Tree","Crown Castle International Corp.","Nike","PayPal","Intl Flavors &amp; Fragrances","The Walt Disney Company","Zimmer Biomet Holdings","AES Corp","Tyson Foods","Align Technology","Humana Inc.","Alexandria Real Estate Equities Inc","CVS Health","Boston Properties","Charter Communications","Nordstrom","Lincoln National","Foot Locker Inc","Newell Brands","Southwest Airlines","Hasbro Inc.","Hanesbrands Inc","Fidelity National Information Services","Coty, Inc","Aptiv Plc","Global Payments Inc.","Wynn Resorts Ltd","Qorvo","American Airlines Group","Goodyear Tire &amp; Rubber","DXC Technology","FMC Corporation","Stanley Black &amp; Decker","Western Union Co","Boeing Company","Biogen Inc.","Dollar General","Carnival Corp.","TripAdvisor","Norwegian Cruise Line","Illumina Inc","HCP Inc.","Under Armour Class C","Estee Lauder Cos.","Kohl's Corp.","Under Armour Class A","Baxter International Inc.","Intel Corp.","Dentsply Sirona","Advance Auto Parts","Xerox Corp.","V.F. Corp.","Leggett &amp; Platt","Walgreens Boots Alliance","SunTrust Banks"],["NVDA","RRC","AVGO","PWR","LLY","EQT","SIG","IRM","URI","MCK","CDNS","ETN","KLAC","PGR","CMG","AMP","AAPL","COST","SNPS","ORCL","PH","GWW","AJG","IT","WMB","MSI","FCX","UNM","TSCO","PHM","GE","MS","DHI","GOOG","LB","GOOGL","RJF","GS","CTAS","NRG","HRB","MSFT","AMAT","CAH","ORLY","NFLX","AZO","CAT","APH","MPC","ISRG","FLR","DE","LEN","AXP","TDG","LRCX","IR","AMD","ABBV","WMT","INTU","RSG","PKG","KR","GRMN","PCAR","NUE","PNR","NDAQ","AMZN","SNA","DFS","BLK","HLT","LOW","AMG","CMI","FAST","AFL","NWS","RL","IBM","JCI","AYI","HCA","NTAP","TJX","SYF","MMC","MCO","HIG","CRM","NWSA","HD","DVA","FDX","BSX","JPM","TRV","ALL","CB","QCOM","MLM","XOM","ADI","WM","ADP","DRI","REGN","PAYX","MAR","FTI","MET","COF","VMC","VRSK","OKE","AIV","SPGI","PCG","SHW","UNH","EBAY","EFX","PM","AME","HPQ","EOG","GLW","PDCO","VRTX","COP","SYK","ACN","EMR","AON","DLR","KMI","FFIV","MA","EQIX","AIZ","BK","JNPR","PSA","CBOE","RCL","GILD","STX","DOV","ICE","V","EXR","PEG","ULTA","DHR","DVN","TXT","RF","EXPE","PFG","FITB","GD","TXN","MNST","LH","SCHW","L","MAS","MCD","A","TEL","TMO","NI","AIG","PRU","SO","MO","VLO","CHD","DGX","SPG","WAT","AVY","IP","ITW","AOS","IDXX","HPE","MU","CINF","XYL","PG","RMD","K","MTD","ROK","JBHT","CHRW","IPG","CL","EXPD","WFC","CVX","REG","KIM","GM","ROP","DUK","PNC","CI","YUM","GIS","NOC","STT","ABT","CSCO","CSX","CME","MAA","FOXA","APD","BAC","UNP","EA","LMT","EXC","HON","SRE","HBAN","HOLX","EMN","PLD","ETR","ROST","CFG","FOX","AEE","CNP","NEE","CTSH","ADBE","EIX","KO","NSC","MRK","F","HSY","DTE","ECL","ANSS","MTB","PEP","OMC","LNT","UHS","UPS","VTR","FLS","GPC","AMGN","STZ","AVB","ZTS","SJM","IQV","CMS","PSX","ADM","ALB","XEL","MOS","OXY","RHI","MDLZ","ZION","CLX","BHF","KHC","IVZ","NAVI","WEC","M","ED","TGT","TAP","HAL","PNW","BBY","AEP","FTV","MCHP","WY","KMB","PPL","JNJ","COO","SBUX","T","AWK","UDR","ESS","HST","ALLE","NTRS","CMA","LKQ","TROW","FRT","AKAM","KEY","UAL","PX","EQR","SLG","LYB","SLB","BMY","VRSN","MMM","C","DAL","MGM","FE","HSIC","SYY","INFO","CA","MAC","PVH","CPB","NEM","BEN","USB","MKC","PPG","CAG","CNC","O","WHR","EW","ALK","SEE","CMCSA","BDX","AMT","KMX","WDC","SBAC","BWA","PFE","HOG","MHK","VZ","HII","ES","D","SWKS","MDT","HRL","VNO","DLTR","CCI","NKE","PYPL","IFF","DIS","ZBH","AES","TSN","ALGN","HUM","ARE","CVS","BXP","CHTR","JWN","LNC","FL","NWL","LUV","HAS","HBI","FIS","COTY","APTV","GPN","WYNN","QRVO","AAL","GT","DXC","FMC","SWK","WU","BA","BIIB","DG","CCL","TRIP","NCLH","ILMN","HCP","UA","EL","KSS","UAA","BAX","INTC","XRAY","AAP","XRX","VFC","LEG","WBA","STI"],["Information Technology","Energy","Information Technology","Industrials","Health Care","Energy","Consumer Discretionary","Real Estate","Industrials","Health Care","Information Technology","Industrials","Information Technology","Financials","Consumer Discretionary","Financials","Information Technology","Consumer Staples","Information Technology","Information Technology","Industrials","Industrials","Financials","Information Technology","Energy","Information Technology","Materials","Financials","Consumer Discretionary","Consumer Discretionary","Industrials","Financials","Consumer Discretionary","Information Technology","Consumer Discretionary","Information Technology","Financials","Financials","Industrials","Utilities","Financials","Information Technology","Information Technology","Health Care","Consumer Discretionary","Information Technology","Consumer Discretionary","Industrials","Information Technology","Energy","Health Care","Industrials","Industrials","Consumer Discretionary","Financials","Industrials","Information Technology","Industrials","Information Technology","Health Care","Consumer Staples","Information Technology","Industrials","Materials","Consumer Staples","Consumer Discretionary","Industrials","Materials","Industrials","Financials","Consumer Discretionary","Consumer Discretionary","Financials","Financials","Consumer Discretionary","Consumer Discretionary","Financials","Industrials","Industrials","Financials","Consumer Discretionary","Consumer Discretionary","Information Technology","Industrials","Industrials","Health Care","Information Technology","Consumer Discretionary","Financials","Financials","Financials","Financials","Information Technology","Consumer Discretionary","Consumer Discretionary","Health Care","Industrials","Health Care","Financials","Financials","Financials","Financials","Information Technology","Materials","Energy","Information Technology","Industrials","Information Technology","Consumer Discretionary","Health Care","Information Technology","Consumer Discretionary","Energy","Financials","Financials","Materials","Industrials","Energy","Real Estate","Financials","Utilities","Materials","Health Care","Information Technology","Industrials","Consumer Staples","Industrials","Information Technology","Energy","Information Technology","Health Care","Health Care","Energy","Health Care","Information Technology","Industrials","Financials","Real Estate","Energy","Information Technology","Information Technology","Real Estate","Financials","Financials","Information Technology","Real Estate","Financials","Consumer Discretionary","Health Care","Information Technology","Industrials","Financials","Information Technology","Real Estate","Utilities","Consumer Discretionary","Health Care","Energy","Industrials","Financials","Consumer Discretionary","Financials","Financials","Industrials","Information Technology","Consumer Staples","Health Care","Financials","Financials","Industrials","Consumer Discretionary","Health Care","Information Technology","Health Care","Utilities","Financials","Financials","Utilities","Consumer Staples","Energy","Consumer Staples","Health Care","Real Estate","Health Care","Materials","Materials","Industrials","Industrials","Health Care","Information Technology","Information Technology","Financials","Industrials","Consumer Staples","Health Care","Consumer Staples","Health Care","Industrials","Industrials","Industrials","Consumer Discretionary","Consumer Staples","Industrials","Financials","Energy","Real Estate","Real Estate","Consumer Discretionary","Industrials","Utilities","Financials","Health Care","Consumer Discretionary","Consumer Staples","Industrials","Financials","Health Care","Information Technology","Industrials","Financials","Real Estate","Consumer Discretionary","Materials","Financials","Industrials","Information Technology","Industrials","Utilities","Industrials","Utilities","Financials","Health Care","Materials","Real Estate","Utilities","Consumer Discretionary","Financials","Consumer Discretionary","Utilities","Utilities","Utilities","Information Technology","Information Technology","Utilities","Consumer Staples","Industrials","Health Care","Consumer Discretionary","Consumer Staples","Utilities","Materials","Information Technology","Financials","Consumer Staples","Consumer Discretionary","Utilities","Health Care","Industrials","Real Estate","Industrials","Consumer Discretionary","Health Care","Consumer Staples","Real Estate","Health Care","Consumer Staples","Health Care","Utilities","Energy","Consumer Staples","Materials","Utilities","Materials","Energy","Industrials","Consumer Staples","Financials","Consumer Staples","Financials","Consumer Staples","Financials","Financials","Utilities","Consumer Discretionary","Utilities","Consumer Discretionary","Consumer Staples","Energy","Utilities","Consumer Discretionary","Utilities","Industrials","Information Technology","Real Estate","Consumer Staples","Utilities","Health Care","Health Care","Consumer Discretionary","Telecommunication Services","Utilities","Real Estate","Real Estate","Real Estate","Industrials","Financials","Financials","Consumer Discretionary","Financials","Real Estate","Information Technology","Financials","Industrials","Materials","Real Estate","Real Estate","Materials","Energy","Health Care","Information Technology","Industrials","Financials","Industrials","Consumer Discretionary","Utilities","Health Care","Consumer Staples","Industrials","Information Technology","Real Estate","Consumer Discretionary","Consumer Staples","Materials","Financials","Financials","Consumer Staples","Materials","Consumer Staples","Health Care","Real Estate","Consumer Discretionary","Health Care","Industrials","Materials","Consumer Discretionary","Health Care","Real Estate","Consumer Discretionary","Information Technology","Real Estate","Consumer Discretionary","Health Care","Consumer Discretionary","Consumer Discretionary","Telecommunication Services","Industrials","Utilities","Utilities","Information Technology","Health Care","Consumer Staples","Real Estate","Consumer Discretionary","Real Estate","Consumer Discretionary","Information Technology","Materials","Consumer Discretionary","Health Care","Utilities","Consumer Staples","Health Care","Health Care","Real Estate","Consumer Staples","Real Estate","Consumer Discretionary","Consumer Discretionary","Financials","Consumer Discretionary","Consumer Discretionary","Industrials","Consumer Discretionary","Consumer Discretionary","Information Technology","Consumer Staples","Consumer Discretionary","Information Technology","Consumer Discretionary","Information Technology","Industrials","Consumer Discretionary","Information Technology","Materials","Consumer Discretionary","Information Technology","Industrials","Health Care","Consumer Discretionary","Consumer Discretionary","Consumer Discretionary","Consumer Discretionary","Health Care","Real Estate","Consumer Discretionary","Consumer Staples","Consumer Discretionary","Consumer Discretionary","Health Care","Information Technology","Health Care","Consumer Discretionary","Information Technology","Consumer Discretionary","Consumer Discretionary","Consumer Staples","Financials"],[82.08,35.61,15.94,17.54,17.34,53.16,6.65,15.42,16.33,11.68,34.09,17.08,16.59,20.76,45.86,12.41,16.86,30.69,67.72,18.81,21.6,22.57,21.05,36.86,48.41,19.03,14.67,11.51,19.57,12.86,13.76,14.23,16.32,40.29,12.77,31.48,16.94,12.44,32.75,17.78,12.29,25.76,14.08,12.29,21.91,200.08,16.31,21.22,25.9,16.06,48.58,19.9,23.14,15.35,15,23.76,16.29,19.38,187,19.41,23.1,40.52,26.13,18.57,13.07,21.23,15.72,17.01,18.89,17.78,296.16,15.81,12.13,22.49,36.42,23.87,12.24,16.83,27.02,12.24,44.03,17.74,10.67,14,18.22,14.07,26.1,21.01,13.35,20.23,26.55,14.34,520.15,43.47,28.1,20.55,19.45,20,15.43,16.48,13.26,17.5,16.51,30.38,21.37,17.67,25.36,29.34,22.72,27.93,27.49,32.73,18.77,8.52,11.85,40.9,28.84,34,15.6,27.38,8.75,26.75,21.47,24.86,19.03,22.36,27.61,12.07,246.44,16.45,14.05,252.67,72.93000000000001,23.46,25.47,25.74,20.8,16.55,25.07,21.21,34.99,23.06,33.27,14.76,14.09,18.21,35.06,16.26,8.16,11.51,23.87,22.95,32.72,18.12,16.11,32.07,22.87,23.93,22.13,17.9,30.99,11.96,16.9,20.71,24.05,42.17,17.79,29.82,15.99,22.12,23.83,27.45,19.72,21.84,19.57,23.22,9.99,15.78,18.89,18.74,24.42,17.07,13.56,26.64,22.11,15.57,23.62,27.76,53.57,11.57,9.01,27.48,30.94,20.46,31.54,16.5,35.56,26.48,30.62,26,15.46,24.02,25.26,13.58,27.52,15.27,9.279999999999999,6.58,27.57,16.7,17.55,18.11,27.25,17.53,24.4,15.35,22.51,17.87,21.94,32.15,14.38,17.81,24.22,16.34,22.06,34.48,24.28,14.51,20.68,19.14,15.41,19.21,12.28,20.76,10.65,26.52,16.04,17.57,20.38,19.73,21.65,22.44,52.31,13.23,22.8,20.65,13.75,5.89,20.51,19.12,28.08,42.53,18.91,21.51,15.27,19.86,15.36,18.27,12.21,26.17,21.17,13.76,30.92,17.97,32.8,15.35,21.74,21.42,21.11,17.45,26.03,18.14,23.66,195.63,20.18,19.85,17.73,23.44,22.63,20.11,11.87,7.56,19.57,7.67,18.64,14.19,17.66,38.86,16.06,19.22,17.32,25.05,21.77,34.29,17.93,12.83,17.31,22.96,25.98,12.14,26.23,17.79,18.66,11.23,21.07,19.96,18.89,21.35,19.92,18.35,32.55,14.66,8.85,24.63,17.6,14.07,10.35,44.93,20.83,29.5,24.31,13.48,10.37,29.65,11.18,19.85,22.98,26.19,14.32,14.81,20.98,14.84,26.34,12.67,15.35,23.91,18.73,18.2,19.12,15.54,11.77,32.57,9.66,21.31,18.54,22.28,20.68,19.44,10.19,199.81,14.15,12.69,13.7,19.08,13.08,18.75,18.22,20.42,16.45,17.04,20.39,16.22,26.66,21.45,24.9,49.53,24.17,17.78,14.32,9.960000000000001,13.92,56.59,22.39,19.03,12.36,18.05,162.92,15.04,9.49,9.5,9.720000000000001,15.89,20.57,10.04,22.08,24.64,69.73999999999999,27.86,31.7,19.71,9.92,9.92,79.93000000000001,32.48,20.57,10.17,27.29,14.3,21.18,17.48,58.04,15.35,52.25,10.99,29.15,37.78,16.01,32.05,25.12,12.32,22.65,19.54,8.869999999999999,25.9,17.88,13.38,16.25],["2 148.39%","737.82%","728.41%","678.55%","523.01%","370.87%","350.24%","349.43%","327.45%","325.99%","320.58%","280.46%","267.69%","261.10%","251.32%","244.46%","244.00%","242.03%","239.72%","233.66%","226.89%","226.12%","216.00%","210.48%","209.42%","205.81%","204.73%","202.68%","199.04%","197.02%","186.77%","183.95%","179.58%","179.55%","179.45%","177.62%","176.55%","176.19%","175.47%","175.10%","174.54%","174.36%","173.97%","172.39%","171.03%","170.25%","169.13%","168.95%","167.06%","165.77%","162.18%","160.03%","156.61%","153.94%","151.74%","151.42%","149.62%","146.29%","146.01%","145.90%","145.63%","143.90%","140.49%","137.79%","137.60%","136.02%","135.97%","134.10%","133.46%","131.21%","131.18%","129.01%","128.50%","128.20%","124.38%","124.12%","121.35%","121.31%","120.59%","119.04%","116.75%","114.57%","114.26%","114.02%","112.80%","112.10%","111.58%","109.05%","105.00%","104.40%","104.32%","101.64%","101.33%","101.32%","99.76%","98.74%","98.00%","97.04%","96.32%","95.81%","93.65%","93.64%","93.51%","93.48%","93.36%","93.30%","91.93%","91.07%","91.05%","90.79%","90.17%","89.84%","88.57%","88.55%","88.39%","88.32%","88.09%","87.99%","87.06%","87.03%","86.64%","86.43%","86.13%","86.06%","85.88%","85.22%","84.93%","84.75%","84.72%","84.05%","83.70%","83.50%","82.36%","80.71%","80.16%","79.82%","79.12%","79.08%","78.94%","78.65%","78.48%","77.85%","76.63%","76.13%","75.20%","75.06%","73.99%","73.83%","73.69%","73.66%","72.36%","71.68%","71.31%","71.24%","70.92%","70.86%","70.28%","69.94%","69.29%","68.78%","68.52%","68.36%","66.92%","66.57%","66.32%","65.02%","65.01%","64.78%","63.53%","63.40%","62.09%","61.74%","61.47%","61.32%","61.01%","60.94%","60.90%","60.37%","59.87%","59.59%","58.52%","57.97%","57.94%","57.82%","57.00%","56.99%","56.79%","56.29%","56.00%","55.72%","55.22%","54.98%","54.20%","53.69%","52.83%","52.31%","52.00%","51.90%","51.72%","50.64%","50.62%","50.07%","49.80%","49.28%","48.97%","48.23%","48.19%","47.97%","46.42%","46.14%","44.68%","44.35%","44.12%","43.87%","43.19%","42.10%","41.94%","41.84%","41.10%","40.92%","40.80%","40.70%","40.52%","39.64%","39.59%","39.51%","39.08%","38.89%","38.56%","38.54%","38.50%","38.45%","37.62%","36.31%","36.09%","35.82%","35.51%","35.32%","35.25%","35.22%","35.17%","33.84%","32.97%","32.41%","32.20%","32.06%","32.01%","31.15%","31.09%","30.64%","29.99%","29.95%","29.77%","29.27%","29.20%","29.16%","29.11%","28.32%","28.01%","27.55%","26.87%","26.46%","26.38%","26.33%","26.10%","26.06%","25.64%","25.43%","25.37%","25.32%","25.31%","25.04%","24.95%","24.40%","24.03%","23.63%","23.15%","22.81%","22.49%","21.98%","21.83%","21.81%","21.77%","21.10%","20.67%","20.37%","19.96%","19.40%","19.00%","18.56%","18.27%","17.99%","15.87%","15.46%","14.61%","13.82%","13.82%","13.81%","13.64%","13.47%","13.24%","13.21%","13.13%","11.73%","11.72%","11.71%","11.07%","10.53%","10.16%","9.21%","9.14%","8.24%","8.20%","8.09%","7.79%","7.51%","7.19%","6.56%","5.79%","5.20%","4.98%","4.87%","4.80%","3.81%","3.21%","3.10%","2.63%","2.19%","2.02%","1.57%","1.08%","1.00%","0.92%","0.39%","0.22%","-0.21%","-0.58%","-0.75%","-2.10%","-3.64%","-3.70%","-4.48%","-4.48%","-4.94%","-6.29%","-8.25%","-8.49%","-8.66%","-9.13%","-9.76%","-11.25%","-11.50%","-11.59%","-11.62%","-13.69%","-17.32%","-18.10%","-18.54%","-19.22%","-19.64%","-19.69%","-19.80%","-20.09%","-20.80%","-21.58%","-22.93%","-23.92%","-23.94%","-24.18%","-24.72%","-26.38%","-26.50%","-27.39%","-27.59%","-29.57%","-29.59%","-30.11%","-31.36%","-32.91%","-33.48%","-35.05%","-35.27%","-35.55%","-35.62%","-36.30%","-36.32%","-37.04%","-37.43%","-38.35%","-39.69%","-39.86%","-40.78%","-44.57%","-44.87%","-45.16%","-45.17%","-46.58%","-48.03%","-48.67%","-50.87%","-51.19%","-56.26%","-57.99%","-59.84%","-61.23%","-61.35%","-61.54%","-61.98%","-62.46%","-62.64%","-64.17%","-67.30%","-69.22%","-74.57%","-76.06%","-79.23%","-93.02%"]],"container":"<table class=\"stripe hover\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Company Name<\/th>\n      <th>Ticker<\/th>\n      <th>Sector<\/th>\n      <th>P/E Ratio<\/th>\n      <th>5-Year Return<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"scrollX":true,"columnDefs":[{"className":"dt-right","targets":4},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Company Name","targets":1},{"name":"Ticker","targets":2},{"name":"Sector","targets":3},{"name":"P/E Ratio","targets":4},{"name":"5-Year Return","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="distribution-histgoram-of-price-to-earnings-ratio" class="level2">
<h2 class="anchored" data-anchor-id="distribution-histgoram-of-price-to-earnings-ratio">Distribution Histgoram of Price-to Earnings Ratio</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="distirbution-histogram-of-five-year-return" class="level2">
<h2 class="anchored" data-anchor-id="distirbution-histogram-of-five-year-return">Distirbution Histogram of Five-Year Return</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>These histograms of distributions are extremely useful in revealing P/E ratios and five-year returns’ spread and density for S&amp;P 500 firms and separating typical performance and outliers. By separating 5th–95th percentiles, plots reduce skew caused by outliers and highlight most typical trends of valuation and long-term returns. This allows analysts to better visualize the overall scene of company performance and estimate how individual firms compare to the general market.</p>
</section>
<section id="bar-chart-of-average-price-to-earnings-ratio-by-sector" class="level2">
<h2 class="anchored" data-anchor-id="bar-chart-of-average-price-to-earnings-ratio-by-sector">Bar chart of Average Price-to-Earnings Ratio by Sector</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="bar-chart-of-average-five-year-return-by-sector" class="level2">
<h2 class="anchored" data-anchor-id="bar-chart-of-average-five-year-return-by-sector">Bar chart of Average Five-Year Return by Sector</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>These bar graphs show average P/E ratio and five-year return of each of the sectors among S&amp;P 500 companies, how performance and valuation differ by industry. They are handy to identify sectors with higher investor expectations (through P/E) or better previous returns. This comparison is helpful to identify patterns across industries and investment decisions by sectors.</p>
</section>
</section>
<section id="hypothesis-and-results" class="level1">
<h1>Hypothesis and Results</h1>
<section id="hypothesis" class="level2">
<h2 class="anchored" data-anchor-id="hypothesis">Hypothesis</h2>
<p>Null Hypothesis (H₀): There is no relationship between the Price-to-Earnings (P/E) ratio and 5-year stock return. (P/E ratio does not predict future stock growth.)</p>
<p>Alternative Hypothesis (H₁): There is a negative relationship between the Price-to-Earnings (P/E) ratio and 5-year stock return. (Lower P/E ratios are associated with higher future stock growth.)</p>
<p>In hypothesis testing, to reject the null hypothesis, the p-value must be less than your significance level (α). (α = 0.05)</p>
</section>
<section id="scatter-plot" class="level2">
<h2 class="anchored" data-anchor-id="scatter-plot">Scatter Plot</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Final_Project_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<p>Since the scatter plot shows that pearson r value which is the correlation value between two variables to be 0.079 and th p value to be 0.108, the null hypothesis is not rejected. That means there is not a strong correlation between P/E ratio and 5-Year return due to a weak correlation value and the p-value being larger than 0.05. the Pearson r value being 0.108 actually shows that the weak correlation is positive instead of negative showing that it is more likely that higher price-to-earnings ratio indicate higher stock growth than a lower price-to-earnings ratio. However, since there is no strong pearson r value from teh scattterplot, not conclusion can be made about the relationship between P/E and five-year return value from stocks.</p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>This research disproves conventional wisdom that low Price-to-Earnings (P/E) ratio automatically leads to long-term stock appreciation. In opposition to common financial mythology often promoting “value investing”—the principle of buying stocks with low P/E multiples in hopes of future large returns—the record of S&amp;P 500 stocks over a five-year period indicates no statistical relationship between P/E multiple and stock performance. The low positive correlation (r = 0.079) and the large p-value (0.108) suggest that low P/E ratios are bad predictors of subsequent higher returns, at least with this dataset. This result has important implications for investors, financial planners, and market analysts. Rather than sole reliance on P/E multiples in investment decisions, it would be more prudent to employ a multi-factor approach that includes company fundamentals, industry trends, macro indicators, and qualitative elements like leadership and innovation. Such results also emphasize the benefits of evidence-based investing: assumptions and heuristics must be tested rather than taken on faith. For continuous research and business decision-making purposes, this research demands an evidence-based and more integrated approach to valuing stocks, especially for those who want to make their portfolios in the S&amp;P 500 or common stock markets more effective. Ultimately, it reminds us that when it comes to investing, no single number is a guarantee for success—diligent research and diversification are still essential.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>